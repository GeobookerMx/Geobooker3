<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8" />

  <!-- FAVICONS Y APP ICONS - Google requires .ico format -->
  <link rel="icon" href="/favicon.ico" sizes="48x48" />
  <link rel="icon" type="image/svg+xml" href="/images/geobooker-logo.svg" />
  <link rel="icon" type="image/png" sizes="32x32" href="/images/geobooker-favicon.png" />
  <link rel="icon" type="image/png" sizes="16x16" href="/images/geobooker-favicon.png" />
  <link rel="apple-touch-icon" sizes="180x180" href="/images/geobooker-app-icon-original.jpg" />
  <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon" />

  <!-- METADATOS CRÍTICOS -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
  <meta name="description"
    content="Geobooker - Encuentra negocios cerca de ti en cualquier lugar del mundo. Directorio inteligente con mapa interactivo.">
  <meta name="keywords"
    content="negocios cerca de mi, directory near me, 附近商家, 近くのビジネス, 근처 비즈니스, mapa de negocios, geobooker, local business directory global">
  <meta name="author" content="Geobooker">
  <meta name="robots" content="index, follow">
  <meta name="googlebot" content="index, follow">
  <meta name="theme-color" content="#5558c4" media="(prefers-color-scheme: light)">
  <meta name="theme-color" content="#3b3d8c" media="(prefers-color-scheme: dark)">
  <link rel="manifest" href="/manifest.json">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="Geobooker">
  <meta name="color-scheme" content="light dark">

  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://geobooker.com.mx/">
  <meta property="og:title" content="Geobooker - Global Business Directory">
  <meta property="og:description" content="Find the best local businesses near you, anywhere in the world.">
  <meta property="og:image" content="https://geobooker.com.mx/images/geobooker-og-image.png">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta property="og:locale" content="es_MX">
  <meta property="og:site_name" content="Geobooker">

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:url" content="https://geobooker.com.mx/">
  <meta name="twitter:title" content="Geobooker - Global Business Directory">
  <meta name="twitter:description" content="Find the best local businesses near you, anywhere in the world.">
  <meta name="twitter:image" content="https://geobooker.com.mx/images/geobooker-og-image.png">

  <!-- Canonical URL -->
  <link rel="canonical" href="https://geobooker.com.mx/">

  <!-- hreflang - Gestionados dinámicamente por SEO.jsx -->

  <!-- Schema.org JSON-LD - Structured Data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebApplication",
    "name": "Geobooker",
    "alternateName": "Geobooker México",
    "url": "https://geobooker.com.mx",
    "logo": "https://geobooker.com.mx/images/geobooker-logo.svg",
    "description": "Encuentra negocios cerca de ti. Restaurantes, farmacias, tiendas, servicios y más. Directorio de negocios locales con mapa interactivo.",
    "applicationCategory": "BusinessApplication",
    "operatingSystem": "Web, iOS, Android",
    "browserRequirements": "Requires JavaScript",
    "softwareVersion": "1.0",
    "offers": {
      "@type": "Offer",
      "price": "0",
      "priceCurrency": "MXN",
      "description": "Uso gratuito con opciones premium"
    },
    "author": {
      "@type": "Organization",
      "name": "Geobooker",
      "url": "https://geobooker.com.mx",
      "email": "geobookerr@gmail.com",
      "sameAs": [
        "https://www.youtube.com/@Geobooker",
        "https://www.instagram.com/geobooker",
        "https://www.facebook.com/geobooker"
      ]
    },
    "publisher": {
      "@type": "Organization",
      "name": "Geobooker",
      "logo": {
        "@type": "ImageObject",
        "url": "https://geobooker.com.mx/images/geobooker-logo.svg"
      }
    },
    "potentialAction": {
      "@type": "SearchAction",
      "target": {
        "@type": "EntryPoint",
        "urlTemplate": "https://geobooker.com.mx/?q={search_term_string}"
      },
      "query-input": "required name=search_term_string"
    },
    "aggregateRating": {
      "@type": "AggregateRating",
      "ratingValue": "4.8",
      "ratingCount": "156",
      "bestRating": "5",
      "worstRating": "1"
    }
  }
  </script>

  <!-- Schema.org - Organization -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "Organization",
    "name": "Geobooker",
    "url": "https://geobooker.com.mx",
    "logo": "https://geobooker.com.mx/images/geobooker-logo.svg",
    "description": "Plataforma de directorio de negocios locales con mapa interactivo",
    "foundingDate": "2025",
    "foundingLocation": {
      "@type": "Place",
      "name": "México"
    },
    "contactPoint": {
      "@type": "ContactPoint",
      "email": "geobookerr@gmail.com",
      "contactType": "customer service",
      "availableLanguage": ["Spanish", "English"]
    },
    "sameAs": [
      "https://www.youtube.com/@Geobooker"
    ]
  }
  </script>

  <!-- PRELOAD Y OPTIMIZACIÓN DE FUENTES -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preload" as="style"
    href="https://fonts.googleapis.com/css2?family=Nunito+Sans:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;0,800;1,200;1,300;1,400;1,500;1,600;1,700;1,800&display=swap">
  <link rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Nunito+Sans:ital,wght@0,200;0,300;0,400;0,500;0,600;0,700;0,800;1,200;1,300;1,400;1,500;1,600;1,700;1,800&display=swap"
    media="print" onload="this.media='all'">


  <!-- FALLBACK CRÍTICO INLINE -->
  <style>
    /* Sistema de fuentes nativo para carga inicial */
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;
      margin: 0;
      padding: 0;
      background: #ffffff;
      min-height: 100vh;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      line-height: 1.6;
      color: #334155;
    }

    /* Clase que se aplica cuando cargan las fuentes de Google */
    .fonts-loaded {
      font-family: 'Nunito Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
    }

    /* Loading spinner */
    .loading-fallback {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: white;
      z-index: 9999;
      display: flex;
      justify-content: center;
      align-items: center;
      transition: opacity 0.3s ease;
    }
  </style>

  <!-- GA4 Consent Mode v2 — Default to denied for GDPR/ePrivacy compliance -->
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }

    // Set default consent state (denied until user accepts)
    gtag('consent', 'default', {
      analytics_storage: 'denied',
      ad_storage: 'denied',
      ad_user_data: 'denied',
      ad_personalization: 'denied',
      wait_for_update: 500
    });

    // If user has previously consented, restore that consent
    try {
      var savedConsent = JSON.parse(localStorage.getItem('gb_cookie_consent'));
      if (savedConsent && savedConsent.analytics) {
        gtag('consent', 'update', {
          analytics_storage: 'granted',
          ad_storage: savedConsent.marketing ? 'granted' : 'denied',
          ad_user_data: savedConsent.marketing ? 'granted' : 'denied',
          ad_personalization: savedConsent.marketing ? 'granted' : 'denied'
        });
      }
    } catch (e) { }
  </script>

  <!-- Google Analytics 4 - Geobooker -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-M1DRMN5LDG"></script>
  <script>
    gtag('js', new Date());
    gtag('config', 'G-M1DRMN5LDG', {
      page_title: document.title,
      page_location: window.location.href,
      send_page_view: true
    });
  </script>

  <!-- Microsoft Clarity - Heatmaps & Session Recordings -->
  <script type="text/javascript">
    (function (c, l, a, r, i, t, y) {
      c[a] = c[a] || function () { (c[a].q = c[a].q || []).push(arguments) };
      t = l.createElement(r); t.async = 1; t.src = "https://www.clarity.ms/tag/" + i;
      y = l.getElementsByTagName(r)[0]; y.parentNode.insertBefore(t, y);
    })(window, document, "clarity", "script", "v1j8dut5lg");
  </script>

  <title>Geobooker - Find Local Businesses Near You</title>

  <!-- Dynamic language detection script -->
  <script>
    (function () {
      var isEnglish = window.location.hostname.endsWith('geobooker.com') && !window.location.hostname.includes('.mx');
      document.documentElement.lang = isEnglish ? 'en' : 'es';
      document.title = isEnglish
        ? 'Geobooker - Find Local Businesses Near You'
        : 'Geobooker - Encuentra Negocios Cerca de Ti';
    })();
  </script>
</head>

<body>
  <!-- Fallback visual durante carga -->
  <div class="loading-fallback">
    <div style="text-align: center;">
      <div
        style="width: 40px; height: 40px; border: 3px solid #f3f4f6; border-top: 3px solid #5558c4; border-radius: 50%; animation: spin 1s linear infinite; margin: 0 auto 1rem;">
      </div>
      <p id="loading-text" style="color: #64748b; font-size: 0.9rem;">Loading Geobooker...</p>
      <script>
        (function () {
          var isEnglish = window.location.hostname.endsWith('geobooker.com') && !window.location.hostname.includes('.mx');
          document.getElementById('loading-text').textContent = isEnglish ? 'Loading Geobooker...' : 'Cargando Geobooker...';
        })();
      </script>
    </div>
  </div>

  <div id="root"></div>

  <!-- SCRIPT DE CONTROL DE FUENTES Y CARGA -->
  <script>
    // Función para detectar carga de fuentes
    function checkFontsLoaded() {
      if (document.fonts && document.fonts.ready) {
        document.fonts.ready.then(function () {
          document.documentElement.classList.add('fonts-loaded');
          // Ocultar loading fallback
          const fallback = document.querySelector('.loading-fallback');
          if (fallback) {
            setTimeout(() => {
              fallback.style.opacity = '0';
              setTimeout(() => {
                fallback.style.display = 'none';
              }, 300);
            }, 500);
          }
        });
      } else {
        // Fallback para navegadores antiguos
        setTimeout(function () {
          document.documentElement.classList.add('fonts-loaded');
          const fallback = document.querySelector('.loading-fallback');
          if (fallback) {
            fallback.style.opacity = '0';
            setTimeout(() => {
              fallback.style.display = 'none';
            }, 300);
          }
        }, 1500);
      }

      // Timeout de seguridad
      setTimeout(function () {
        document.documentElement.classList.add('fonts-loaded');
        const fallback = document.querySelector('.loading-fallback');
        if (fallback) {
          fallback.style.opacity = '0';
          setTimeout(() => {
            fallback.style.display = 'none';
          }, 300);
        }
      }, 4000);
    }

    // Inicializar cuando el DOM esté listo
    if (document.readyState === 'loading') {
      document.addEventListener('DOMContentLoaded', checkFontsLoaded);
    } else {
      checkFontsLoaded();
    }

    // Register Service Worker for PWA
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('/sw.js')
          .then(registration => {
            console.debug('SW registered:', registration.scope);
          })
          .catch(error => {
            console.error('SW registration failed:', error);
          });
      });
    }

    // Animación de spin para el loading
    const style = document.createElement('style');
    style.textContent = `
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
      `;
    document.head.appendChild(style);
  </script>

  <script type="module" src="/src/main.jsx"></script>
</body>

</html>